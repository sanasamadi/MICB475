library(phyloseq)
library(tidyverse)
library(vegan)

#Sourcing code from the other file
source("AIC_for_adonis2.R")

#Loading phyloseq object - do we download it as a seperate file first or can we skip this step if it's already in the environment?
load("COLOMBIA_final.RData")

#Rename phyloseq object
phyloseqObject <- COLOMBIA_final

#Extracting sample data of interest
sampdat <- data.frame(sample_data(phyloseqObject))

#Filtering out NAs in the dataset
sampdat_filt <- sampdat %>% select(adiponectin
                                    , age_years
                                    , age_range
                                    , BMI
                                    , BMI_class
                                    , Body_Fat_Percentage
                                    , Calorie_intake
                                    , Cardiometabolic_status
                                    , city
                                    , country
                                    , diastolic_bp
                                    , fiber
                                    , glucose
                                    , Hemoglobin_a1c
                                    , CRP
                                    , insulin
                                    , latitude
                                    , Total_Cholesterol
                                    , HDL
                                    , LDL
                                    , VLDL
                                    , Triglycerides
                                    , medication
                                    , per_carbohydrates
                                    , per_total_protein
                                    , per_total_fat
                                    , per_animal_protein
                                    , per_monoinsaturated_fat
                                    , per_polyunsaturated_fat
                                    , per_saturated_fat
                                    , sex
                                    , smoker
                                    , stool_consistency
                                    , systolic_bp
                                    , MET_mins_per_week
                                    , waist_circumference                        
) %>%
  drop_na()
